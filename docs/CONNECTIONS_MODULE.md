# ğŸ”— CONNECTIONS MODULE â€” ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

## ĞĞ³Ğ»Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ
1. [ĞšĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ Ğ¸ Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ](#1-ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ-Ğ¸-Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ)
2. [ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ](#2-Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°-Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ)
3. [Backend API](#3-backend-api)
4. [Frontend ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹](#4-frontend-ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹)
5. [Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…](#5-Ğ±Ğ°Ğ·Ğ°-Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)
6. [Alerts Engine](#6-alerts-engine)
7. [Admin Control Plane](#7-admin-control-plane)
8. [Quick Start â€” Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº](#8-quick-start--Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹-Ğ·Ğ°Ğ¿ÑƒÑĞº)
9. [ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ](#9-ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ)
10. [Troubleshooting](#10-troubleshooting)
11. [Telegram Notifications (Phase 2.3)](#11-telegram-notifications-phase-23)

---

# 1. ĞšĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ Ğ¸ Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ

## 1.1 Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ Connections Module?

**Connections Module** â€” ÑÑ‚Ğ¾ Ğ¸Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ‹, Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ÑÑ‰Ğ¸Ğ¹ Ğ·Ğ° **Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞ¿Ñ€Ğ°Ğ²ĞµĞ´Ğ»Ğ¸Ğ²Ğ¾Ğ³Ğ¾ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³Ğ° Ğ¸Ğ½Ñ„Ğ»ÑĞµĞ½ÑĞµÑ€Ğ¾Ğ²** Ğ² ÑĞ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… ÑĞµÑ‚ÑÑ… (Ğ² Ğ¿ĞµÑ€Ğ²ÑƒÑ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ Twitter, Ğ² Ğ¿ĞµÑ€ÑĞ¿ĞµĞºÑ‚Ğ¸Ğ²Ğµ â€” Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ‹).

### ĞšĞ»ÑÑ‡ĞµĞ²Ğ°Ñ Ğ¸Ğ´ĞµÑ

Ğ¢Ñ€Ğ°Ğ´Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ²Ğ»Ğ¸ÑĞ½Ğ¸Ñ (followers, likes, retweets) Ğ»ĞµĞ³ĞºĞ¾ Ğ½Ğ°ĞºÑ€ÑƒÑ‡Ğ¸Ğ²Ğ°ÑÑ‚ÑÑ Ğ¸ Ğ½Ğµ Ğ¾Ñ‚Ñ€Ğ°Ğ¶Ğ°ÑÑ‚ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ñ†ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¸Ğ½Ñ„Ğ»ÑĞµĞ½ÑĞµÑ€Ğ°. Connections Module Ñ€ĞµÑˆĞ°ĞµÑ‚ ÑÑ‚Ñƒ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñƒ Ñ‡ĞµÑ€ĞµĞ·:

1. **ĞĞ½Ğ°Ğ»Ğ¸Ğ· ÑĞ²ÑĞ·ĞµĞ¹ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸** â€” ĞºÑ‚Ğ¾ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²ÑƒĞµÑ‚ Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ¾Ğ¼
2. **Trend-adjusted scoring** â€” ÑƒÑ‡Ñ‘Ñ‚ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸ĞºĞ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº
3. **Early Signal detection** â€” Ñ€Ğ°Ğ½Ğ½ĞµĞµ Ğ¾Ğ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ "Ğ²Ğ¾ÑÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ñ… Ğ·Ğ²Ñ‘Ğ·Ğ´"
4. **Risk assessment** â€” Ğ¾Ñ†ĞµĞ½ĞºĞ° Ñ€Ğ¸ÑĞºĞ¾Ğ² (Ğ½Ğ°ĞºÑ€ÑƒÑ‚ĞºĞ°, Ğ±Ğ¾Ñ‚Ñ‹, Ğ¼Ğ°Ğ½Ğ¸Ğ¿ÑƒĞ»ÑÑ†Ğ¸Ğ¸)

### Ğ”Ğ»Ñ ĞºĞ¾Ğ³Ğ¾ ÑÑ‚Ğ¾ Ğ½ÑƒĞ¶Ğ½Ğ¾?

- **Ğ¢Ñ€ĞµĞ¹Ğ´ĞµÑ€Ñ‹/Ğ¸Ğ½Ğ²ĞµÑÑ‚Ğ¾Ñ€Ñ‹** â€” Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒ Ğ¸Ğ½Ñ„Ğ»ÑĞµĞ½ÑĞµÑ€Ğ¾Ğ² Ğ”Ğ Ñ‚Ğ¾Ğ³Ğ¾, ĞºĞ°Ğº Ğ¾Ğ½Ğ¸ ÑÑ‚Ğ°Ğ½ÑƒÑ‚ Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğ¼Ğ¸
- **ĞœĞ°Ñ€ĞºĞµÑ‚Ğ¾Ğ»Ğ¾Ğ³Ğ¸** â€” Ğ²Ñ‹Ğ±Ğ¸Ñ€Ğ°Ñ‚ÑŒ Ğ¸Ğ½Ñ„Ğ»ÑĞµĞ½ÑĞµÑ€Ğ¾Ğ² Ñ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹, Ğ° Ğ½Ğµ Ğ½Ğ°ĞºÑ€ÑƒÑ‡ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ğ¸ĞµĞ¹
- **ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¸** â€” Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ñ‚ÑŒ Ğ¸ÑÑ‚Ğ¸Ğ½Ğ½ÑƒÑ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸ĞºÑƒ Ğ²Ğ»Ğ¸ÑĞ½Ğ¸Ñ Ğ² ĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¾ÑĞ¾Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²Ğµ

## 1.2 Ğ§Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°ĞµÑ‚ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ?

### ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:

| Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|----------|
| **Influence Scoring** | Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ğµ Ğ±Ğ°Ğ·Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¸ ÑĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ influence score |
| **Trend Analysis** | ĞĞ½Ğ°Ğ»Ğ¸Ğ· velocity (ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ) Ğ¸ acceleration (ÑƒÑĞºĞ¾Ñ€ĞµĞ½Ğ¸Ğµ) Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ |
| **Early Signal Detection** | Ğ”ĞµÑ‚ĞµĞºÑ†Ğ¸Ñ breakout (Ğ¿Ñ€Ğ¾Ñ€Ñ‹Ğ²) Ğ¸ rising (Ñ€Ğ¾ÑÑ‚) ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ² |
| **Audience Overlap** | Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ğ¿ĞµÑ€ĞµÑĞµÑ‡ĞµĞ½Ğ¸Ñ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹ Ğ´Ğ²ÑƒÑ… Ğ¸Ğ½Ñ„Ğ»ÑĞµĞ½ÑĞµÑ€Ğ¾Ğ² |
| **Risk Detection** | ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ ÑƒÑ€Ğ¾Ğ²Ğ½Ñ Ñ€Ğ¸ÑĞºĞ° (low/medium/high) |
| **Alerts Engine** | Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¾Ğ¿Ğ¾Ğ²ĞµÑ‰ĞµĞ½Ğ¸Ğ¹ Ğ¾ Ğ²Ğ°Ğ¶Ğ½Ñ‹Ñ… ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸ÑÑ… |

### ĞšĞ°Ğº ÑÑ‚Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Data Source    â”‚â”€â”€â”€â”€â–¶â”‚  Scoring Engine  â”‚â”€â”€â”€â”€â–¶â”‚  Early Signal   â”‚
â”‚  (Mock/Twitter) â”‚     â”‚                  â”‚     â”‚  Detection      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚                        â”‚
                               â–¼                        â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  Trend Adjust    â”‚     â”‚  Alerts Engine  â”‚
                        â”‚  (velocity/accel)â”‚     â”‚  (preview-only) â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 1.3 ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸

### Base Influence Score
Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ğ¾Ñ†ĞµĞ½ĞºĞ° Ğ²Ğ»Ğ¸ÑĞ½Ğ¸Ñ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ:
- ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑÑ‡Ğ¸ĞºĞ¾Ğ²
- Engagement rate (Ğ»Ğ°Ğ¹ĞºĞ¸, Ñ€ĞµÑ‚Ğ²Ğ¸Ñ‚Ñ‹, Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹)
- ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸

### Trend-Adjusted Score
ĞšĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ±Ğ°Ğ·Ğ¾Ğ²Ğ¾Ğ³Ğ¾ score Ñ ÑƒÑ‡Ñ‘Ñ‚Ğ¾Ğ¼:
- **Velocity** â€” ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº
- **Acceleration** â€” ÑƒÑĞºĞ¾Ñ€ĞµĞ½Ğ¸Ğµ (Ñ€Ğ°ÑÑ‚Ñ‘Ñ‚/Ğ¿Ğ°Ğ´Ğ°ĞµÑ‚ velocity)
- **Trend state** â€” ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ñ‚Ñ€ĞµĞ½Ğ´Ğ° (growing, cooling, stable, volatile)

### Early Signal Score
Ğ˜Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ "Ğ¿Ñ€Ğ¾Ñ€Ñ‹Ğ²Ğ°":
- **breakout** â€” ÑĞ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ¸Ğ³Ğ½Ğ°Ğ» Ñ€Ğ¾ÑÑ‚Ğ°
- **rising** â€” ÑƒĞ¼ĞµÑ€ĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞ¸Ğ³Ğ½Ğ°Ğ» Ñ€Ğ¾ÑÑ‚Ğ°
- **none** â€” Ğ±ĞµĞ· ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ°

---

# 2. ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ

## 2.1 Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

```
/app/
â”œâ”€â”€ backend/
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ modules/
â”‚       â”‚   â””â”€â”€ connections/
â”‚       â”‚       â”œâ”€â”€ index.ts                    # Entry point
â”‚       â”‚       â”œâ”€â”€ api/
â”‚       â”‚       â”‚   â””â”€â”€ routes.ts               # Public API routes
â”‚       â”‚       â”œâ”€â”€ core/
â”‚       â”‚       â”‚   â”œâ”€â”€ scoring/
â”‚       â”‚       â”‚   â”‚   â”œâ”€â”€ connections-score.ts
â”‚       â”‚       â”‚   â”‚   â”œâ”€â”€ connections-trend-config.ts
â”‚       â”‚       â”‚   â”‚   â”œâ”€â”€ early-signal.ts
â”‚       â”‚       â”‚   â”‚   â”œâ”€â”€ early-signal-config.ts
â”‚       â”‚       â”‚   â”‚   â””â”€â”€ threshold-tuning.ts
â”‚       â”‚       â”‚   â””â”€â”€ alerts/
â”‚       â”‚       â”‚       â”œâ”€â”€ connections-alerts-engine.ts
â”‚       â”‚       â”‚       â””â”€â”€ index.ts
â”‚       â”‚       â”œâ”€â”€ admin/
â”‚       â”‚       â”‚   â””â”€â”€ connections-admin.ts
â”‚       â”‚       â””â”€â”€ storage/
â”‚       â”‚           â””â”€â”€ author-profile.store.ts
â”‚       â””â”€â”€ core/
â”‚           â””â”€â”€ admin/
â”‚               â””â”€â”€ admin.connections.routes.ts  # Admin API
â”‚
â””â”€â”€ frontend/
    â””â”€â”€ src/
        â”œâ”€â”€ pages/
        â”‚   â”œâ”€â”€ ConnectionsPage.jsx              # Main page
        â”‚   â”œâ”€â”€ ConnectionsEarlySignalPage.jsx   # Radar page
        â”‚   â”œâ”€â”€ ConnectionsDetailPage.jsx        # Detail page
        â”‚   â””â”€â”€ admin/
        â”‚       â””â”€â”€ AdminConnectionsPage.jsx     # Admin control plane
        â”œâ”€â”€ components/
        â”‚   â””â”€â”€ connections/
        â”‚       â””â”€â”€ CompareModal.jsx             # Compare modal
        â””â”€â”€ config/
            â””â”€â”€ adminNav.registry.js             # Navigation config
```

## 2.2 Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ |
|-----------|------------|
| **Backend Runtime** | Node.js 20+ |
| **Backend Framework** | Fastify (TypeScript) |
| **Proxy Layer** | FastAPI (Python) |
| **Frontend** | React 18 + Tailwind CSS |
| **Database** | MongoDB |
| **State Management** | React Context + useState |

## 2.3 ĞŸĞ¾Ñ€Ñ‚Ñ‹ Ğ¸ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹

| Ğ¡ĞµÑ€Ğ²Ğ¸Ñ | ĞŸĞ¾Ñ€Ñ‚ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|--------|------|----------|
| FastAPI Proxy | 8001 | Ğ’Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ API endpoint |
| Fastify Backend | 8003 | Node.js backend (internal) |
| React Frontend | 3000 | Web interface |
| MongoDB | 27017 | Database |

---

# 3. Backend API

## 3.1 Public Connections API

Base URL: `/api/connections`

### Health Check
```http
GET /api/connections/health
```
Response:
```json
{
  "ok": true,
  "module": "connections",
  "status": "healthy",
  "features": {
    "scoring": true,
    "trend_adjust": true,
    "early_signal": true,
    "compare": true,
    "influence_score": true,
    "risk_detection": true
  },
  "storage": "mongodb"
}
```

### Get Accounts List
```http
GET /api/connections/accounts?limit=50&offset=0&profile=retail&risk=low
```
Query Parameters:
- `limit` â€” ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹ (default: 50)
- `offset` â€” ÑĞ¼ĞµÑ‰ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ Ğ¿Ğ°Ğ³Ğ¸Ğ½Ğ°Ñ†Ğ¸Ğ¸
- `profile` â€” Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€ Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ (retail, influencer, whale)
- `risk` â€” Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€ Ğ¿Ğ¾ Ñ€Ğ¸ÑĞºÑƒ (low, medium, high)

### Get Account Detail
```http
GET /api/connections/accounts/:author_id
```

### Score Calculation
```http
POST /api/connections/score
Content-Type: application/json

{
  "author_id": "123456789",
  "metrics": {
    "followers_count": 50000,
    "following_count": 500,
    "tweet_count": 2000
  },
  "engagement": {
    "likes": 1200,
    "retweets": 300,
    "replies": 150
  }
}
```

### Mock Score (Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ)
```http
GET /api/connections/score/mock
```

### Compare Two Accounts
```http
POST /api/connections/compare
Content-Type: application/json

{
  "left": "crypto_whale",
  "right": "alpha_hunter"
}
```

### Trends Analysis
```http
POST /api/connections/trends
Content-Type: application/json

{
  "author_id": "123456789"
}
```

### Mock Trends
```http
GET /api/connections/trends/mock
```

### Early Signal Detection
```http
POST /api/connections/early-signal
Content-Type: application/json

{
  "author_id": "123456789",
  "influence_base": 500,
  "influence_adjusted": 650,
  "velocity_norm": 0.25,
  "acceleration_norm": 0.4,
  "audience_size": 50000,
  "profile": "retail",
  "risk_level": "low"
}
```

### Mock Early Signal
```http
GET /api/connections/early-signal/mock
```

### Score Explanation
```http
POST /api/connections/explain
Content-Type: application/json

{
  "author_id": "123456789"
}
```

### Sensitivity Analysis
```http
POST /api/connections/sensitivity
Content-Type: application/json

{
  "base_score": 500,
  "velocity_norm": 0.2,
  "acceleration_norm": 0.3
}
```

---

## 3.2 Admin Connections API

Base URL: `/api/admin/connections`
**Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:** `Authorization: Bearer <token>`

### Overview
```http
GET /api/admin/connections/overview
```
Response:
```json
{
  "ok": true,
  "data": {
    "enabled": true,
    "source_mode": "mock",
    "last_run": "2026-02-06T09:22:42.000Z",
    "stats": {
      "accounts_24h": 112,
      "early_signals": 14,
      "breakouts": 2,
      "alerts_generated": 4,
      "alerts_sent": 0
    },
    "health": {
      "status": "healthy",
      "uptime_hours": 72
    }
  }
}
```

### Toggle Module
```http
POST /api/admin/connections/toggle
Content-Type: application/json

{
  "enabled": true
}
```

### Change Data Source
```http
POST /api/admin/connections/source
Content-Type: application/json

{
  "mode": "mock"  // "mock" | "sandbox" | "twitter_live"
}
```

### Get Configuration
```http
GET /api/admin/connections/config
```

### Tuning Status
```http
GET /api/admin/connections/tuning/status
```

### Run Tuning Analysis
```http
POST /api/admin/connections/tuning/run
Content-Type: application/json

{
  "dataset_size": 25
}
```

### Alerts Preview
```http
GET /api/admin/connections/alerts/preview?type=EARLY_BREAKOUT&status=preview&limit=50
```

### Run Alerts Batch
```http
POST /api/admin/connections/alerts/run
Content-Type: application/json

{}
```

### Update Alerts Config
```http
POST /api/admin/connections/alerts/config
Content-Type: application/json

{
  "enabled": true,
  "types": {
    "EARLY_BREAKOUT": {
      "enabled": true,
      "severity_min": 0.6,
      "cooldown_minutes": 360
    }
  }
}
```

### Send Alert (preview-only)
```http
POST /api/admin/connections/alerts/send
Content-Type: application/json

{
  "alert_id": "alert_123456_abc123"
}
```

### Suppress Alert
```http
POST /api/admin/connections/alerts/suppress
Content-Type: application/json

{
  "alert_id": "alert_123456_abc123"
}
```

---

# 4. Frontend ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

## 4.1 Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹

### `/connections` â€” ConnectionsPage
ĞÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° ÑĞ¾ ÑĞ¿Ğ¸ÑĞºĞ¾Ğ¼ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ¾Ğ²:
- Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ñ influence score, trend, early signal
- Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ Ğ¸ Ñ€Ğ¸ÑĞºÑƒ
- Ğ¡Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ¿Ğ¾ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ°Ğ¼
- ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğº Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğµ

### `/connections/radar` â€” ConnectionsEarlySignalPage
Radar View Ğ´Ğ»Ñ Early Signal Ğ´ĞµÑ‚ĞµĞºÑ†Ğ¸Ğ¸:
- Scatter plot Ñ bubbles (influence vs acceleration)
- Alpha Zone Ğ¿Ğ¾Ğ´ÑĞ²ĞµÑ‚ĞºĞ°
- Table view Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ°
- Compare mode Ğ´Ğ»Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° 2 Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ¾Ğ²

### `/connections/detail/:id` â€” ConnectionsDetailPage
Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ°:
- ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ scoring
- History Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸
- Compare button

### `/admin/connections` â€” AdminConnectionsPage
Admin Control Plane:
- **Overview** â€” ÑÑ‚Ğ°Ñ‚ÑƒÑ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ, Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ 24h
- **Config** â€” ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²
- **Stability** â€” ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸
- **Alerts** â€” Alerts Engine management

## 4.2 URL Query Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹

Admin page Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ¿Ñ€ÑĞ¼ÑƒÑ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ Ğº Ñ‚Ğ°Ğ±Ğ°Ğ¼:
- `/admin/connections` â†’ Overview
- `/admin/connections?tab=config` â†’ Configuration
- `/admin/connections?tab=stability` â†’ Stability
- `/admin/connections?tab=alerts` â†’ Alerts Engine

---

# 5. Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

## 5.1 Collections

### `connection_profiles`
```javascript
{
  _id: ObjectId,
  author_id: String,          // Twitter ID
  username: String,           // @handle
  profile: String,            // "retail" | "influencer" | "whale"
  risk_level: String,         // "low" | "medium" | "high"
  
  influence: {
    base: Number,
    adjusted: Number,
    percentile: Number
  },
  
  trend: {
    velocity_norm: Number,
    acceleration_norm: Number,
    state: String,            // "growing" | "cooling" | "stable" | "volatile"
  },
  
  early_signal: {
    score: Number,
    badge: String,            // "breakout" | "rising" | "none"
    confidence: Number
  },
  
  audience: {
    total: Number,
    engaged_user_ids: [String]
  },
  
  metrics_history: [{
    timestamp: Date,
    influence_base: Number,
    velocity: Number,
    acceleration: Number
  }],
  
  createdAt: Date,
  updatedAt: Date
}
```

### `connection_alerts`
```javascript
{
  _id: ObjectId,
  id: String,                 // "alert_123456_abc123"
  timestamp: Date,
  type: String,               // "EARLY_BREAKOUT" | "STRONG_ACCELERATION" | "TREND_REVERSAL"
  
  account: {
    author_id: String,
    username: String,
    profile: String
  },
  
  severity: Number,           // 0.0 - 1.0
  status: String,             // "preview" | "sent" | "suppressed"
  reason: String,
  explain: String,
  
  metrics_snapshot: {
    influence_base: Number,
    influence_adjusted: Number,
    velocity_norm: Number,
    acceleration_norm: Number,
    early_signal_score: Number,
    trend_state: String,
    risk_level: String
  }
}
```

## 5.2 Indexes

```javascript
// connection_profiles
db.connection_profiles.createIndex({ author_id: 1 }, { unique: true });
db.connection_profiles.createIndex({ username: 1 });
db.connection_profiles.createIndex({ profile: 1, risk_level: 1 });
db.connection_profiles.createIndex({ "early_signal.badge": 1 });
db.connection_profiles.createIndex({ "influence.adjusted": -1 });

// connection_alerts
db.connection_alerts.createIndex({ timestamp: -1 });
db.connection_alerts.createIndex({ type: 1, status: 1 });
db.connection_alerts.createIndex({ "account.author_id": 1 });
```

---

# 6. Alerts Engine

## 6.1 Ğ¢Ğ¸Ğ¿Ñ‹ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹

| Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ñ |
|-----|----------|---------|
| **EARLY_BREAKOUT** | ĞŸÑ€Ğ¾Ñ€Ñ‹Ğ² detected | badge=breakout, confidence>0.5, riskâ‰ high |
| **STRONG_ACCELERATION** | Ğ¡Ğ¸Ğ»ÑŒĞ½Ğ¾Ğµ ÑƒÑĞºĞ¾Ñ€ĞµĞ½Ğ¸Ğµ | acceleration>0.4, velocity>0.1 |
| **TREND_REVERSAL** | Ğ Ğ°Ğ·Ğ²Ğ¾Ñ€Ğ¾Ñ‚ Ñ‚Ñ€ĞµĞ½Ğ´Ğ° | state change (growingâ†’cooling, etc.) |

## 6.2 Cooldown Ğ¸ Ğ´ĞµĞ´ÑƒĞ¿Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ

- **EARLY_BREAKOUT**: 6 Ñ‡Ğ°ÑĞ¾Ğ² Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ°Ğ»ĞµÑ€Ñ‚Ğ°Ğ¼Ğ¸ Ğ½Ğ° Ğ¾Ğ´Ğ¸Ğ½ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚
- **STRONG_ACCELERATION**: 3 Ñ‡Ğ°ÑĞ°
- **TREND_REVERSAL**: 4 Ñ‡Ğ°ÑĞ°

## 6.3 Preview-only Ñ€ĞµĞ¶Ğ¸Ğ¼

Ğ’ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¹ Ğ²ĞµÑ€ÑĞ¸Ğ¸ Ğ°Ğ»ĞµÑ€Ñ‚Ñ‹ Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒÑÑ‚ÑÑ Ğ² ÑÑ‚Ğ°Ñ‚ÑƒÑĞµ `preview`.

**Ğ”Ğ»Ñ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ Ğ² Telegram:**
1. Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Telegram Delivery Ğ² Admin â†’ Connections â†’ Telegram
2. ĞÑ‚ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Preview Only
3. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ½Ğ°Ğ¶Ğ°Ñ‚ÑŒ `/start` Ğ² Ğ±Ğ¾Ñ‚Ğµ

ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµ: [11. Telegram Notifications](#11-telegram-notifications-phase-23)

---

# 7. Admin Control Plane

## 7.1 Overview Tab

ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚:
- **Module Status**: ENABLED/DISABLED
- **Health**: HEALTHY/DEGRADED/ERROR
- **Source Mode**: Mock/Sandbox/Twitter Live
- **Activity 24h**: Counters

## 7.2 Config Tab

- Read-only Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ (Trend, Early Signal)
- Editable Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ (Alerts thresholds)
- Version history
- Apply â†’ Confirm â†’ Success flow

## 7.3 Stability Tab

- **Stability Score**: 0-100%
- **Status**: OK (>90%), Warning (70-90%), Danger (<70%)
- **Parameter Sensitivity**: safe ranges, optimal values
- **Recommendations**

## 7.4 Alerts Tab

- **Run Alerts Batch**: ĞºĞ½Ğ¾Ğ¿ĞºĞ° Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° Ğ´ĞµÑ‚ĞµĞºÑ†Ğ¸Ğ¸
- **Alert Types**: ON/OFF toggles Ñ cooldown info
- **Recent Alerts**: Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ñ Send/Suppress actions
- **Filters**: Ğ¿Ğ¾ Ñ‚Ğ¸Ğ¿Ñƒ, hide suppressed

---

# 8. Quick Start â€” Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº

## 8.1 ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

Ğ”Ğ»Ñ Ğ¸Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° **Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Connections Module** Ğ½ÑƒĞ¶Ğ½Ğ¾:

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ’ĞµÑ€ÑĞ¸Ñ | ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ |
|-----------|--------|-------------|
| Node.js | 20+ | âœ… |
| Python | 3.11+ | âœ… |
| MongoDB | 6.0+ | âœ… |
| npm/yarn | latest | âœ… |

**ĞĞ• Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ:**
- âŒ Twitter API keys (mock Ñ€ĞµĞ¶Ğ¸Ğ¼)
- âŒ Neural/ML ÑĞµÑ€Ğ²Ğ¸ÑÑ‹
- âŒ Telegram Bot
- âŒ Redis
- âŒ Ğ”Ñ€ÑƒĞ³Ğ¸Ğµ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹

## 8.2 Environment Variables

### Backend (`/app/backend/.env`)
```env
# Database
MONGO_URL=mongodb://localhost:27017
MONGODB_URI=mongodb://localhost:27017/connections_db
DB_NAME=connections_db

# Server
NODE_ENV=development
PORT=8003
LOG_LEVEL=info

# CORS
CORS_ORIGINS=*
```

### Frontend (`/app/frontend/.env`)
```env
REACT_APP_BACKEND_URL=http://localhost:8001
```

## 8.3 Ğ¨Ğ°Ğ³Ğ¸ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸

### 1. ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ
```bash
git clone https://github.com/your-repo/connections-module.git
cd connections-module
```

### 2. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹ Backend
```bash
cd backend
yarn install
```

### 3. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹ Frontend
```bash
cd ../frontend
yarn install
```

### 4. Ğ—Ğ°Ğ¿ÑƒÑĞº MongoDB
```bash
# Docker
docker run -d -p 27017:27017 --name connections-mongo mongo:6.0

# Ğ˜Ğ»Ğ¸ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾
mongod --dbpath /data/db
```

### 5. Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Backend
```bash
cd backend
yarn build
```

### 6. Ğ—Ğ°Ğ¿ÑƒÑĞº ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²

**Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ A: Ğ§ĞµÑ€ĞµĞ· supervisor (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ)**
```bash
sudo supervisorctl start backend frontend
```

**Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ B: Ğ’Ñ€ÑƒÑ‡Ğ½ÑƒÑ**

Terminal 1 â€” Backend (Fastify):
```bash
cd backend
node dist/server-minimal.js
```

Terminal 2 â€” Backend (FastAPI Proxy):
```bash
cd backend
python server.py
```

Terminal 3 â€” Frontend:
```bash
cd frontend
yarn start
```

### 7. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ¾ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ½Ğ¾ÑÑ‚Ğ¸

```bash
# Health check
curl http://localhost:8001/api/health
# Expected: {"ok":true,"service":"fomo-backend","mode":"minimal"}

# Connections health
curl http://localhost:8001/api/connections/health
# Expected: {"ok":true,"module":"connections","status":"healthy",...}

# Mock score
curl http://localhost:8001/api/connections/score/mock
# Expected: Full scoring response
```

### 8. Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğº UI

- **Connections Page**: http://localhost:3000/connections
- **Early Signal Radar**: http://localhost:3000/connections/radar
- **Admin Login**: http://localhost:3000/admin/login
- **Admin Connections**: http://localhost:3000/admin/connections

### 9. Admin credentials
```
Username: admin
Password: admin12345
```

## 8.4 Seed Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

```bash
# Add test accounts
curl -X POST http://localhost:8001/api/connections/test/add-audience \
  -H "Content-Type: application/json" \
  -d '{
    "author_id": "test_001",
    "handle": "crypto_whale",
    "engaged_user_ids": ["user1", "user2", "user3", "user4", "user5"]
  }'

# Run alerts batch (requires admin auth)
API_URL=http://localhost:8001
TOKEN=$(curl -s -X POST "$API_URL/api/admin/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin12345"}' | python3 -c "import sys,json;print(json.load(sys.stdin).get('token',''))")

curl -X POST "$API_URL/api/admin/connections/alerts/run" \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{}'
```

## 8.5 Ğ˜Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼ (Ğ±ĞµĞ· Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ‹)

ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Connections Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ `server-minimal.ts` ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹:
- âœ… Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ Ğ¢ĞĞ›Ğ¬ĞšĞ Connections module
- âœ… ĞĞµ Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ Twitter API
- âœ… ĞĞµ Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ ML/Neural ÑĞµÑ€Ğ²Ğ¸ÑÑ‹
- âœ… Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ½Ğ° mock Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

Ğ”Ğ»Ñ Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ğ¼ĞµĞ¶Ğ´Ñƒ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ°Ğ¼Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Admin â†’ Connections â†’ Change Data Source:
- **Mock** â€” Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (default)
- **Sandbox** â€” Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ñ‹Ğµ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
- **Twitter Live** â€” Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğµ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ API keys)

---

# 9. ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

## 9.1 Scoring Config

Ğ¤Ğ°Ğ¹Ğ»: `backend/src/modules/connections/core/scoring/connections-trend-config.ts`

```typescript
export const ConnectionsTrendConfig = {
  // Velocity boundaries
  velocity: {
    min: -1.0,
    max: 1.0,
    neutral_zone: [-0.05, 0.05]
  },
  
  // Acceleration boundaries
  acceleration: {
    min: -1.0,
    max: 1.0,
    significant_threshold: 0.1
  },
  
  // Trend adjustment weights
  weights: {
    velocity: 0.3,
    acceleration: 0.2,
    consistency: 0.1
  },
  
  // Score bounds
  bounds: {
    min_multiplier: 0.7,
    max_multiplier: 1.5
  }
};
```

## 9.2 Early Signal Config

Ğ¤Ğ°Ğ¹Ğ»: `backend/src/modules/connections/core/scoring/early-signal-config.ts`

```typescript
export const EarlySignalConfig = {
  // Breakout thresholds
  breakout: {
    min_acceleration: 0.3,
    min_velocity: 0.15,
    min_confidence: 0.5,
    excluded_profiles: ['whale'],
    excluded_risks: ['high']
  },
  
  // Rising thresholds
  rising: {
    min_acceleration: 0.15,
    min_velocity: 0.08,
    min_confidence: 0.3
  },
  
  // Score calculation
  score_weights: {
    acceleration: 0.4,
    velocity: 0.3,
    influence_delta: 0.2,
    consistency: 0.1
  }
};
```

## 9.3 Alerts Engine Config

Ğ¤Ğ°Ğ¹Ğ»: `backend/src/modules/connections/core/alerts/connections-alerts-engine.ts`

```typescript
const engineConfig = {
  enabled: true,
  conditions: {
    EARLY_BREAKOUT: {
      enabled: true,
      severity_min: 0.6,
      cooldown_minutes: 360  // 6 hours
    },
    STRONG_ACCELERATION: {
      enabled: true,
      severity_min: 0.5,
      cooldown_minutes: 180  // 3 hours
    },
    TREND_REVERSAL: {
      enabled: true,
      severity_min: 0.7,
      cooldown_minutes: 240  // 4 hours
    }
  },
  global_cooldown_minutes: 30,
  max_alerts_per_run: 20
};
```

---

# 10. Troubleshooting

## 10.1 Backend Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ

**ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸:**
```bash
tail -n 100 /var/log/supervisor/backend.err.log
```

**Ğ§Ğ°ÑÑ‚Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ñ‹:**
- MongoDB Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½ â†’ `docker start connections-mongo`
- ĞŸĞ¾Ñ€Ñ‚ Ğ·Ğ°Ğ½ÑÑ‚ â†’ `lsof -i :8003`
- ĞÑˆĞ¸Ğ±ĞºĞ¸ TypeScript â†’ `cd backend && yarn build`

## 10.2 Frontend Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸

**ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½ÑĞ¾Ğ»ÑŒ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ°** (F12 â†’ Console)

**Ğ§Ğ°ÑÑ‚Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ñ‹:**
- Backend Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ â†’ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ `curl http://localhost:8001/api/health`
- CORS Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸ â†’ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ `CORS_ORIGINS` Ğ² backend/.env
- ĞĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ `REACT_APP_BACKEND_URL`

## 10.3 Alerts Ğ½Ğµ Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒÑÑ‚ÑÑ

**ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ:**
1. Alerts Engine Ğ²ĞºĞ»ÑÑ‡ĞµĞ½ Ğ² Admin â†’ Alerts
2. Alert types Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ñ‹ (ON)
3. Cooldown Ğ½Ğµ Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ» (Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ timestamps)
4. Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‚ ÑƒÑĞ»Ğ¾Ğ²Ğ¸ÑĞ¼ Ğ´ĞµÑ‚ĞµĞºÑ†Ğ¸Ğ¸

**Ğ¢ĞµÑÑ‚:**
```bash
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³
curl http://localhost:8001/api/admin/connections/alerts/preview \
  -H "Authorization: Bearer $TOKEN"
```

## 10.4 Admin Ğ½Ğµ Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑÑ

**ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:**
```bash
curl -X POST http://localhost:8001/api/admin/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin12345"}'
```

**ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ token Ğ² localStorage** (F12 â†’ Application â†’ Local Storage)

---

# ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹ Ğ¸ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°

- **PRD Document**: `/app/memory/PRD.md`
- **Test Reports**: `/app/test_reports/`
- **Admin Nav Config**: `/app/frontend/src/config/adminNav.registry.js`

---

# 11. Telegram Notifications (Phase 2.3)

## 11.1 ĞšĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ

Telegram Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ Ğ°Ğ»ĞµÑ€Ñ‚Ğ¾Ğ² Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ° Ğ¿Ğ¾ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñƒ:

> **ĞŸĞ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ° ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ±Ğ¾Ñ‚Ğ¾Ğ¼** â€” Ğ²ÑĞµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ½Ğ° ÑĞ°Ğ¹Ñ‚Ğµ, Ğ±Ğ¾Ñ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ.

### ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹:

| ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|----------|
| **ĞĞ´Ğ¸Ğ½ Ğ±Ğ¾Ñ‚** | Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¹ Ğ±Ğ¾Ñ‚ `@t_fomo_bot` |
| **ĞŸĞ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ° = Ğ¼Ğ¾Ğ·Ğ³** | Ğ’ÑĞµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ (Ñ‡Ñ‚Ğ¾/ĞºĞ¾Ğ¼Ñƒ/ĞºĞ¾Ğ³Ğ´Ğ°) Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ° |
| **Ğ‘Ğ¾Ñ‚ = receiver** | Ğ‘Ğ¾Ñ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ, Ğ½Ğ¸ĞºĞ°ĞºĞ¾Ğ¹ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸ |
| **ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ½Ğ° ÑĞ°Ğ¹Ñ‚Ğµ** | ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ°Ğ»ĞµÑ€Ñ‚Ğ°Ğ¼Ğ¸ Ñ‡ĞµÑ€ĞµĞ· Admin UI Ğ¸Ğ»Ğ¸ Ğ²ĞµĞ± |
| **Mute Ğ² Ğ±Ğ¾Ñ‚Ğµ** | Ğ•Ğ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğµ, Ñ‡Ñ‚Ğ¾ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ² Ğ±Ğ¾Ñ‚Ğµ â€” Ğ²Ñ‹ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ğ°Ğ»ĞµÑ€Ñ‚Ñ‹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¾Ğ¹ |

## 11.2 ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         PLATFORM (Brain)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Alerts    â”‚â”€â”€â”€â–¶â”‚ Dispatcher  â”‚â”€â”€â”€â–¶â”‚ Telegram         â”‚   â”‚
â”‚  â”‚   Engine    â”‚    â”‚ (policy +   â”‚    â”‚ Transport        â”‚   â”‚
â”‚  â”‚             â”‚    â”‚  cooldown)  â”‚    â”‚                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â”‚                     â”‚             â”‚
â”‚                            â–¼                     â”‚             â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚             â”‚
â”‚                     â”‚  Settings   â”‚              â”‚             â”‚
â”‚                     â”‚  Store      â”‚              â”‚             â”‚
â”‚                     â”‚  (MongoDB)  â”‚              â”‚             â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                                                  â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚   Telegram Bot API      â”‚
                                    â”‚   @t_fomo_bot           â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚                            â”‚                            â”‚
                     â–¼                            â–¼                            â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  User 1     â”‚             â”‚  User 2     â”‚             â”‚  Admin      â”‚
              â”‚  (chatId)   â”‚             â”‚  (chatId)   â”‚             â”‚  Channel    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 11.3 Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

```
backend/src/
â”œâ”€â”€ modules/connections/notifications/
â”‚   â”œâ”€â”€ index.ts                    # Export all
â”‚   â”œâ”€â”€ types.ts                    # TypeScript types
â”‚   â”œâ”€â”€ templates.ts                # Message templates
â”‚   â”œâ”€â”€ telegram.transport.ts       # Telegram API wrapper
â”‚   â”œâ”€â”€ settings.store.ts           # MongoDB settings
â”‚   â”œâ”€â”€ delivery.store.ts           # Delivery history
â”‚   â”œâ”€â”€ dispatcher.service.ts       # Core logic
â”‚   â””â”€â”€ admin.routes.ts             # Admin API
â”‚
â”œâ”€â”€ telegram-polling.worker.ts      # Bot commands handler
â”‚
â””â”€â”€ core/notifications/
    â””â”€â”€ telegram.service.ts         # Shared telegram service
                                    # + TelegramConnectionModel
```

## 11.4 ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### TelegramConnectionModel

```typescript
interface ITelegramConnection {
  userId: string;
  chatId: string;               // Telegram chat ID
  username?: string;
  firstName?: string;
  isActive: boolean;
  connectedAt: Date;
  
  // Twitter/Parser alerts (existing)
  eventPreferences: {
    sessionOk: boolean;         // Session status alerts
    sessionStale: boolean;
    sessionInvalid: boolean;
    parseCompleted: boolean;
    parseAborted: boolean;
    cooldown: boolean;
    highRisk: boolean;
  };
  
  // Connections alerts (Phase 2.3)
  connectionsPreferences: {
    enabled: boolean;           // Global on/off
    earlyBreakout: boolean;     // Future: per-type control
    strongAcceleration: boolean;
    trendReversal: boolean;
  };
}
```

### ConnectionsTelegramSettings (Admin)

```typescript
interface TelegramDeliverySettings {
  enabled: boolean;             // Global delivery on/off
  preview_only: boolean;        // Log but don't send
  chat_id: string;              // Optional admin channel
  
  cooldown_hours: {
    EARLY_BREAKOUT: 24,
    STRONG_ACCELERATION: 12,
    TREND_REVERSAL: 12,
    TEST: 0
  };
  
  type_enabled: {
    EARLY_BREAKOUT: true,
    STRONG_ACCELERATION: true,
    TREND_REVERSAL: true,
    TEST: true
  };
}
```

## 11.5 Telegram Bot Commands

### ĞĞ±Ñ‰Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹

| ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|----------|
| `/start` | ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° Ğ½Ğ° Ğ°Ğ»ĞµÑ€Ñ‚Ñ‹ + welcome message |
| `/alerts` | **Ğ•Ğ´Ğ¸Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ** ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ²ÑĞµĞ¼Ğ¸ Ğ°Ğ»ĞµÑ€Ñ‚Ğ°Ğ¼Ğ¸ |
| `/status` | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ |
| `/help` | Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¿Ğ¾ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°Ğ¼ |
| `/disconnect` | ĞÑ‚ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ğ’Ğ¡Ğ• Ğ°Ğ»ĞµÑ€Ñ‚Ñ‹ |

### Connections Ğ°Ğ»ĞµÑ€Ñ‚Ñ‹

| ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|----------|
| `/connections` | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Connections Ğ°Ğ»ĞµÑ€Ñ‚Ğ¾Ğ² |
| `/connections on` | Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Connections Ğ°Ğ»ĞµÑ€Ñ‚Ñ‹ |
| `/connections off` | Ğ’Ñ‹ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Connections Ğ°Ğ»ĞµÑ€Ñ‚Ñ‹ |

### Twitter/Parser Ğ°Ğ»ĞµÑ€Ñ‚Ñ‹

| ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|----------|
| `/twitter` | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Twitter Ğ°Ğ»ĞµÑ€Ñ‚Ğ¾Ğ² |
| `/twitter on` | Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Twitter Ğ°Ğ»ĞµÑ€Ñ‚Ñ‹ |
| `/twitter off` | Ğ’Ñ‹ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Twitter Ğ°Ğ»ĞµÑ€Ñ‚Ñ‹ |

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ `/alerts` output

```
âš™ï¸ Alert Settings

ğŸ“Š Connections (Influencer)
Status: ğŸŸ¢ ON
â€¢ Early Breakout, Acceleration, Reversal
â†’ /connections on|off

ğŸ¦ Twitter / Parser
Status: ğŸŸ¢ ON
â€¢ Session alerts: âœ…
â€¢ Parse alerts: âœ…
â†’ /twitter on|off

Quick actions:
/connections off - Mute influencer alerts
/twitter off - Mute twitter alerts
/disconnect - Stop ALL alerts
```

## 11.6 Ğ¢Ğ¸Ğ¿Ñ‹ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹

### ğŸš€ EARLY_BREAKOUT

```
ğŸš€ EARLY BREAKOUT

@username

ĞĞºĞºĞ°ÑƒĞ½Ñ‚ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ€Ğ°Ğ½Ğ½Ğ¸Ğ¹ Ñ€Ğ¾ÑÑ‚ Ğ²Ğ»Ğ¸ÑĞ½Ğ¸Ñ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ñ€Ñ‹Ğ½Ğ¾Ğº ĞµÑ‰Ñ‘ Ğ½Ğµ Ğ·Ğ°Ğ¼ĞµÑ‚Ğ¸Ğ».

â€¢ Influence: 750
â€¢ Acceleration: +45%
â€¢ Profile: Influencer
â€¢ Risk: Low

Ğ¡Ğ¸Ğ³Ğ½Ğ°Ğ» Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½ Ğ½Ğ° ÑƒÑÑ‚Ğ¾Ğ¹Ñ‡Ğ¸Ğ²Ğ¾Ğ¼ Ñ€Ğ¾ÑÑ‚Ğµ Ğ¸ Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ¹ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸ĞºĞµ.

ğŸ”— View details:
https://site.com/connections/account_id
```

### ğŸ“ˆ STRONG_ACCELERATION

```
ğŸ“ˆ STRONG ACCELERATION

@username

Ğ ĞµĞ·ĞºĞ¾Ğµ ÑƒÑĞºĞ¾Ñ€ĞµĞ½Ğ¸Ğµ Ñ€Ğ¾ÑÑ‚Ğ° Ğ²Ğ»Ğ¸ÑĞ½Ğ¸Ñ Ğ·Ğ° ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ğ¹ Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´.

â€¢ Influence: 620
â€¢ Velocity: +15/day
â€¢ Acceleration: +38%
â€¢ Trend: GROWING

Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸ĞºĞ° ÑƒÑĞ¸Ğ»Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ, Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶ĞµĞ½ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğ² breakout.

ğŸ”— View trend:
https://site.com/connections/account_id
```

### ğŸ”„ TREND_REVERSAL

```
ğŸ”„ TREND CHANGE

@username

Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ñ‚Ñ€ĞµĞ½Ğ´Ğ° Ğ²Ğ»Ğ¸ÑĞ½Ğ¸Ñ.

â€¢ Previous: GROWING
â€¢ Current: COOLING
â€¢ Influence: 580

Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸ĞºĞ° Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ° Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ğ»Ğ°ÑÑŒ â€” Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ Ğ¿ĞµÑ€ĞµĞ¾Ñ†ĞµĞ½ĞºĞ°.

ğŸ”— View analysis:
https://site.com/connections/account_id
```

### ğŸ§ª TEST

```
ğŸ§ª TEST ALERT

This is a test notification from Connections module.

If you see this message â€” Telegram delivery is configured correctly.
No real signals were used.
```

## 11.7 Admin API

### Settings

```bash
# Get settings
GET /api/admin/connections/telegram/settings

# Update settings
PATCH /api/admin/connections/telegram/settings
{
  "enabled": true,
  "preview_only": false,
  "chat_id": "-1001234567890"
}
```

### Actions

```bash
# Send test message to all subscribers
POST /api/admin/connections/telegram/test

# Dispatch pending alerts
POST /api/admin/connections/telegram/dispatch
{
  "dryRun": false,
  "limit": 50
}
```

### Analytics

```bash
# Get delivery history
GET /api/admin/connections/telegram/history?limit=50

# Get stats (last 24h)
GET /api/admin/connections/telegram/stats?hours=24
```

## 11.8 Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ (Dispatcher)

### Flow

```
1. Admin Ğ²ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ Telegram Delivery (enabled=true, preview_only=false)
       â†“
2. Alerts Engine ÑĞ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ alert ÑĞ¾ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ¼ PREVIEW
       â†“
3. Dispatcher Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ policy:
   - Global enabled? â†’ ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚ â†’ skip
   - Type enabled? â†’ ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚ â†’ skip
   - Cooldown Ğ¿Ñ€Ğ¾Ğ¹Ğ´ĞµĞ½? â†’ ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚ â†’ skip
       â†“
4. Dispatcher Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ²ÑĞµÑ… Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑÑ‡Ğ¸ĞºĞ¾Ğ²:
   - isActive=true
   - connectionsPreferences.enabled â‰  false
       â†“
5. ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ²ÑĞµĞ¼ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑÑ‡Ğ¸ĞºĞ°Ğ¼ + admin channel (ĞµÑĞ»Ğ¸ Ğ·Ğ°Ğ´Ğ°Ğ½)
       â†“
6. Ğ—Ğ°Ğ¿Ğ¸ÑÑŒ Ğ² delivery history
```

### Cooldown

| Ğ¢Ğ¸Ğ¿ Ğ°Ğ»ĞµÑ€Ñ‚Ğ° | Cooldown |
|------------|----------|
| EARLY_BREAKOUT | 24 Ñ‡Ğ°ÑĞ° |
| STRONG_ACCELERATION | 12 Ñ‡Ğ°ÑĞ¾Ğ² |
| TREND_REVERSAL | 12 Ñ‡Ğ°ÑĞ¾Ğ² |
| TEST | 0 (Ğ±ĞµĞ· cooldown) |

Cooldown Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ÑĞµÑ‚ÑÑ **per account** â€” Ğ¾Ğ´Ğ¸Ğ½ Ğ¸ Ñ‚Ğ¾Ñ‚ Ğ¶Ğµ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚ Ğ½Ğµ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ°Ğ»ĞµÑ€Ñ‚Ñ‹ Ñ‡Ğ°Ñ‰Ğµ cooldown.

## 11.9 Admin UI

Ğ¢Ğ°Ğ± **Telegram** Ğ² `/admin/connections`:

- **Global toggles**: Telegram Delivery ON/OFF, Preview Only
- **Chat ID**: ĞĞ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ admin ĞºĞ°Ğ½Ğ°Ğ»
- **Alert types**: Ğ’ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ/Ğ²Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ Ñ‚Ğ¸Ğ¿Ğ°Ğ¼ + cooldown
- **Actions**: Send Test Message, Dispatch Pending
- **Stats**: Total/Sent/Skipped/Failed Ğ·Ğ° 24h
- **History**: Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ñ… Ğ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ¾Ğº

## 11.10 Environment Variables

```bash
# backend/.env

# Telegram Bot Token (existing bot)
TELEGRAM_BOT_TOKEN=8262803410:AAEO_SSg4VYEr0wb6rZfkPZm34qB-oKaoIk

# Public URL for links in messages
PUBLIC_BASE_URL=https://svetlana-connect.preview.emergentagent.com
```

## 11.11 Ğ‘ÑƒĞ´ÑƒÑ‰Ğ¸Ğµ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ

### Phase 2.3+ (Ğ·Ğ°Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾)

- [ ] **Web UI Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸** â€” ĞºĞ¾Ğ»Ğ¾ĞºĞ¾Ğ»ÑŒÑ‡Ğ¸ĞºĞ¸ Ğ½Ğ° ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğµ Connections
- [ ] **Per-type Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ°** â€” Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ²Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ Ñ‚Ğ¸Ğ¿Ñ‹ Ğ°Ğ»ĞµÑ€Ñ‚Ğ¾Ğ² Ğ½Ğ° Ğ²ĞµĞ±Ğµ
- [ ] **Inline buttons** â€” ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ² Telegram Ğ´Ğ»Ñ Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ñ… Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹
- [ ] **User-specific cooldown** â€” Ñ€Ğ°Ğ·Ğ½Ñ‹Ğ¹ cooldown Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹

### ĞĞ• Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ

- âŒ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ±Ğ¾Ñ‚Ğ° (ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ `/settings`, `/mute types`)
- âŒ Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ°Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ğ² Ğ±Ğ¾Ñ‚Ğµ
- âŒ ĞÑ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ±Ğ¾Ñ‚ Ğ´Ğ»Ñ Connections

---

*Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Phase 2.3 ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ°: 2026-02-06*
*Ğ’ĞµÑ€ÑĞ¸Ñ: 1.0.0*
*ĞĞ²Ñ‚Ğ¾Ñ€: Emergent AI Assistant*
